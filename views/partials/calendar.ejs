<!-- partials/calendar.ejs -->

<div class="calendar">
    <!-- Calendar HTML structure goes here -->
    <!-- You can use a library like FullCalendar for more advanced features -->
  
    <!-- For simplicity, let's create a basic calendar using a table -->
    <table class="table table-bordered">
      <thead class="thead-dark">
        <tr>
          <th scope="col">Sun</th>
          <th scope="col">Mon</th>
          <th scope="col">Tue</th>
          <th scope="col">Wed</th>
          <th scope="col">Thu</th>
          <th scope="col">Fri</th>
          <th scope="col">Sat</th>
        </tr>
      </thead>
      <tbody>
        <!-- Calendar content goes here -->
        <% if (Array.isArray(calendarData) && calendarData.length > 0) { %>
          <% calendarData.forEach(day => { %>
            <tr>
              <% for (let i = 0; i < 7; i++) { %>
                <td>
                  <!-- Display reflection entry in its own block -->
                  <% const entry = day.find(entry => entry && entry.date.getDay() === i); %>
                  <div class="col-12"> <!-- Use Bootstrap grid system -->
                    <% if (entry) { %>
                      <div class="calendar-entry card mb-3">
                        <div class="card-body">
                          <h5 class="card-title">Date: <%= entry.date.toDateString() %></h5>
                          <p class="card-text">Journal Entry: <%= entry.journalEntry %></p>
                          <p class="card-text">Mood: <%= entry.mood %></p>
                          <!-- Add more reflection details as needed -->
                        </div>
                      </div>
                    <% } else { %>
                      <!-- Display an empty cell if there is no entry for this day -->
                      &nbsp;
                    <% } %>
                  </div>
                </td>
              <% } %>
            </tr>
          <% }); %>
        <% } else { %>
          <tr>
            <td colspan="7">
              <p class="text-center text-muted">No calendar data available.</p>
            </td>
          </tr>
        <% } %>
      </tbody>
    </table>
  </div>
  